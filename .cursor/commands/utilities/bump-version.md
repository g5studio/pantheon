---
description: ç‰ˆæœ¬è·³æ¿æŒ‡ä»¤ï¼šè‡ªå‹•åµæ¸¬å°ˆæ¡ˆç‰ˆæœ¬æª”æ¡ˆä¸¦åŸ·è¡Œç‰ˆæœ¬æ›´æ–°
---

## æŒ‡ä»¤èªªæ˜

**`bump-version`** - ç‰ˆæœ¬è·³æ¿æŒ‡ä»¤ï¼Œè‡ªå‹•åµæ¸¬å°ˆæ¡ˆç‰ˆæœ¬æª”æ¡ˆä¸¦åŸ·è¡Œç‰ˆæœ¬æ›´æ–°

## è¦å‰‡åƒè€ƒ

**CRITICAL**: åŸ·è¡Œæ­¤æŒ‡ä»¤æ™‚ï¼Œå¿…é ˆéµå¾ª [bump-version.mdc](mdc:.cursor/rules/utilities/bump-version.mdc) ä¸­å®šç¾©çš„æ‰€æœ‰è¦å‰‡ã€‚

## åŸ·è¡Œæµç¨‹

### 1. åµæ¸¬ç‰ˆæœ¬æª”æ¡ˆ

æŒ‰ä»¥ä¸‹å„ªå…ˆé †åºåµæ¸¬å°ˆæ¡ˆçš„ç‰ˆæœ¬æª”æ¡ˆï¼š

```
1. æª¢æŸ¥ package.json æ˜¯å¦å­˜åœ¨ä¸”åŒ…å« version æ¬„ä½
   - æ˜¯ â†’ ä½¿ç”¨ package.json
   - åŒæ™‚æª¢æŸ¥ build.properties æ˜¯å¦å­˜åœ¨
     - æ˜¯ â†’ å°‡ build.properties åŠ å…¥æ›´æ–°åˆ—è¡¨

2. å¦‚æœ package.json ä¸å­˜åœ¨æˆ–ç„¡æ•ˆ
   - æª¢æŸ¥ build.properties æ˜¯å¦å­˜åœ¨
   - æ˜¯ â†’ ä½¿ç”¨ build.properties

3. å¦‚æœä»¥ä¸Šéƒ½ä¸å­˜åœ¨
   - æª¢æŸ¥ .cursor/version.json æ˜¯å¦å­˜åœ¨
   - æ˜¯ â†’ ä½¿ç”¨ .cursor/version.json

4. å¦‚æœéƒ½ä¸å­˜åœ¨
   - åœæ­¢ä¸¦æç¤ºç”¨æˆ¶
```

### 2. å‰ç½®æª¢æŸ¥

åŸ·è¡Œç‰ˆæœ¬æ›´æ–°å‰ï¼Œé€²è¡Œä»¥ä¸‹æª¢æŸ¥ï¼š

- [ ] ç¢ºèªç‰ˆæœ¬æª”æ¡ˆå­˜åœ¨
- [ ] ç¢ºèªæ²’æœ‰æœªæäº¤çš„è®Šæ›´
- [ ] ç¢ºèªç•¶å‰ç‰ˆæœ¬æ ¼å¼æœ‰æ•ˆ

### 3. è©¢å•è·³æ¿é¡å‹

å‘ç”¨æˆ¶è©¢å•é¸æ“‡ï¼š

```
ğŸ“‹ è«‹é¸æ“‡ç‰ˆæœ¬æ›´æ–°ç¨®é¡ï¼š

1. åŒç’°å¢ƒé€²ç‰ˆ
   - stg ç‰ˆæœ¬æ¨é€²è‹±æ–‡å­—æ¯ï¼ˆ5.36.0-b -> 5.36.0-cï¼‰
   - beta ç‰ˆæœ¬æ¨é€²æ•¸å­—ï¼ˆ0.0.0-beta.3 -> 0.0.0-beta.4ï¼‰
   - ä¸€èˆ¬ç‰ˆæœ¬æ¨é€² patchï¼ˆ5.36.0 -> 5.36.1ï¼‰

2. ç’°å¢ƒå‡ç´šï¼ˆstg -> uat / beta -> releaseï¼‰
   - ç§»é™¤ç’°å¢ƒç‰¹å¾µç·¨è™Ÿï¼ˆ5.36.0-z -> 5.36.0ï¼‰
```

### 4. ç¢ºèªä¸¦åŸ·è¡Œ

ç¢ºèªç”¨æˆ¶é¸æ“‡å¾Œï¼Œèª¿ç”¨è…³æœ¬åŸ·è¡Œï¼š

```bash
node .cursor/scripts/utilities/bump-version.mjs --files="{åµæ¸¬åˆ°çš„æª”æ¡ˆ}" --type={è·³æ¿é¡å‹} --yes
```

### 5. å ±å‘Šçµæœ

åŸ·è¡Œå®Œæˆå¾Œå ±å‘Šï¼š
- æ›´æ–°å¾Œçš„ç‰ˆæœ¬è™Ÿ
- æ›´æ–°çš„æª”æ¡ˆåˆ—è¡¨
- Commit hash
- æ¨é€ç‹€æ…‹

## ä½¿ç”¨æ–¹å¼

åœ¨ chat ä¸­è¼¸å…¥ï¼š
- `bump-version`
- `è·³ç‰ˆ`
- `ç‰ˆæœ¬æ›´æ–°`

## å°ˆæ¡ˆç‰ˆæœ¬æª”æ¡ˆå°ç…§

æ ¹æ“šå°ˆæ¡ˆè‡ªå‹•åµæ¸¬ç‰ˆæœ¬æª”æ¡ˆï¼š

| å°ˆæ¡ˆ | ç‰ˆæœ¬æª”æ¡ˆ |
|---|-----|
| åŒæ™‚å­˜åœ¨ package.json å’Œ build.properties | å…©å€‹éƒ½æ›´æ–° |
| åªæœ‰ package.json | åªæ›´æ–° package.json |
| åªæœ‰ build.properties | åªæ›´æ–° build.properties |
| åªæœ‰ .cursor/version.json | åªæ›´æ–° .cursor/version.json |

## ç¯„ä¾‹

### ç¯„ä¾‹ 1ï¼špantheon å°ˆæ¡ˆ

```
åµæ¸¬åˆ°ç‰ˆæœ¬æª”æ¡ˆ: .cursor/version.json
ç•¶å‰ç‰ˆæœ¬: 0.0.0-beta.3

é¸æ“‡ 1ï¼ˆåŒç’°å¢ƒé€²ç‰ˆï¼‰å¾Œï¼š
æ–°ç‰ˆæœ¬: 0.0.0-beta.4

åŸ·è¡Œ: node .cursor/scripts/utilities/bump-version.mjs --files=".cursor/version.json" --type=same-env --yes
```

### ç¯„ä¾‹ 2ï¼štiger-admin å°ˆæ¡ˆ

```
åµæ¸¬åˆ°ç‰ˆæœ¬æª”æ¡ˆ: package.json, build.properties
ç•¶å‰ç‰ˆæœ¬: 5.36.0-b

é¸æ“‡ 1ï¼ˆåŒç’°å¢ƒé€²ç‰ˆï¼‰å¾Œï¼š
æ–°ç‰ˆæœ¬: 5.36.0-c

åŸ·è¡Œ: node .cursor/scripts/utilities/bump-version.mjs --files="package.json,build.properties" --type=same-env --yes
```

### ç¯„ä¾‹ 3ï¼šç’°å¢ƒå‡ç´š

```
åµæ¸¬åˆ°ç‰ˆæœ¬æª”æ¡ˆ: package.json
ç•¶å‰ç‰ˆæœ¬: 5.36.0-z

é¸æ“‡ 2ï¼ˆç’°å¢ƒå‡ç´šï¼‰å¾Œï¼š
æ–°ç‰ˆæœ¬: 5.36.0

åŸ·è¡Œ: node .cursor/scripts/utilities/bump-version.mjs --files="package.json" --type=upgrade --yes
```

## æ³¨æ„äº‹é …

1. **å¿…é ˆå…ˆæäº¤æ‰€æœ‰è®Šæ›´**ï¼šåŸ·è¡Œå‰ç¢ºä¿æ²’æœ‰æœªæäº¤çš„è®Šæ›´
2. **è‡ªå‹•æ¨é€**ï¼šç‰ˆæœ¬æ›´æ–°å®Œæˆå¾Œæœƒè‡ªå‹•æ¨é€åˆ°é ç«¯
3. **å¤šæª”æ¡ˆåŒæ­¥**ï¼šå¦‚æœå°ˆæ¡ˆæœ‰å¤šå€‹ç‰ˆæœ¬æª”æ¡ˆï¼Œæœƒå…¨éƒ¨æ›´æ–°
4. **éµå¾ªè¦å‰‡**ï¼šæ‰€æœ‰ç‰ˆæœ¬æ ¼å¼å’Œè·³æ¿é‚è¼¯éƒ½ä¾ç…§ bump-version.mdc è¦å‰‡åŸ·è¡Œ

