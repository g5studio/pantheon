---
description: å¿«é€ŸåŸ·è¡Œ commit ä¸¦å»ºç«‹ MRï¼Œç•¥éé—œè¯å–®è™Ÿè©¢å•ï¼ˆé è¨­é€å¯©ï¼Œå¯ç”¨ --no-review è·³éï¼‰
---

è«‹åƒè€ƒ [auto-commit-and-mr.md](../auto-commit-and-mr.md) ä¸­çš„ `cr single-ticket` æŒ‡ä»¤èªªæ˜ã€‚

ç•¶ç”¨æˆ¶è¼¸å…¥ `cr single-ticket` æ™‚ï¼Œè‡ªå‹•åŸ·è¡Œä»¥ä¸‹å®Œæ•´æµç¨‹ï¼š
1. æª¢æŸ¥ Git ç‹€æ…‹
2. å¾ä¸Šä¸‹æ–‡æ¨æ–· commit ä¿¡æ¯ï¼ˆtype, ticket, messageï¼‰
3. åŸ·è¡Œ commit ä¸¦æ¨é€åˆ°é ç«¯
4. **ç•¥éé—œè¯å–®è™Ÿè©¢å•ç’°ç¯€**ï¼Œç›´æ¥ä½¿ç”¨ç•¶å‰åˆ†æ”¯å–®è™Ÿ
5. è‡ªå‹•å»ºç«‹ MRï¼ˆåŒ…å« FE Board labelã€reviewerã€draft ç‹€æ…‹ã€delete source branchï¼‰
6. **é è¨­æäº¤ AI review**ï¼ˆç”¨æˆ¶å¯ç”¨ `--no-review` æ˜ç¢ºè·³éï¼›è‹¥ç¼ºå°‘ `COMPASS_API_TOKEN` å‰‡æœƒè‡ªå‹•è·³é AI reviewï¼›è‹¥ç‚ºæ›´æ–°æ—¢æœ‰ MRï¼Œæœƒç”± `update-mr.mjs` æ±ºå®šæ˜¯å¦é€å¯©ï¼‰
7. **è‡ªå‹•æª¢æŸ¥ Cursor rules**ï¼šåœ¨åŸ·è¡Œ commit ä¹‹å‰ï¼ŒAI æœƒæª¢æŸ¥ä»£ç¢¼æ˜¯å¦ç¬¦åˆ Cursor rulesã€‚å¦‚æœæª¢æ¸¬åˆ°é•è¦ï¼Œæœƒè‡ªå‹•é¡¯ç¤ºç³»çµ±é€šçŸ¥ï¼ˆmacOS/Windowsï¼‰ä¸¦è‡ªå‹•åˆ‡æ›åˆ° Cursorï¼Œåœæ­¢ commit æµç¨‹
8. **Bug é¡å‹å¼·åˆ¶è¿½æº¯ä¾†æº**ï¼šå¦‚æœ Jira ticket é¡å‹ç‚º Bugï¼ŒAI å¿…é ˆåœ¨ç”Ÿæˆé–‹ç™¼å ±å‘Šå‰åŸ·è¡Œ `git log` è¿½æº¯å•é¡Œä¾†æºï¼Œä¸¦åœ¨å ±å‘Šä¸­åŒ…å«ã€Œé€ æˆå•é¡Œçš„å–®è™Ÿã€å€å¡Šã€‚è©³ç´°æµç¨‹è«‹åƒè€ƒ [auto-commit-and-mr.md](../utilities/auto-commit-and-mr.md) ä¸­çš„ã€Œæ­¥é©Ÿ 4.6. Bug é¡å‹å¼·åˆ¶è¿½æº¯ä¾†æºã€ç« ç¯€ã€‚
9. **ç”Ÿæˆé–‹ç™¼å ±å‘Šï¼ˆCRITICALï¼‰**ï¼šåœ¨å»ºç«‹ MR å‰ï¼Œ**å¿…é ˆ**æ ¹æ“š Jira ticket è³‡è¨Šå’Œè®Šæ›´å…§å®¹ç”Ÿæˆé–‹ç™¼å ±å‘Šï¼Œä¸¦é€é `--development-report` å‚³éçµ¦ `create-mr.mjs`ã€‚**CRITICAL**ï¼šAgent å¿…é ˆç¢ºä¿å‚³å…¥çš„æ˜¯ã€Œä¸è·‘ç‰ˆã€çš„ Markdownï¼ˆé¿å…å‡ºç¾å­—é¢ `\n`ï¼‰ã€‚
10. **è®€å– Agent ç‰ˆæœ¬ï¼ˆCRITICALï¼‰**ï¼šåœ¨å»ºç«‹ MR å‰ï¼Œ**å¿…é ˆ**è®€å– `version.json`ï¼ˆå„ªå…ˆé †åºï¼š`.pantheon/version.json` â†’ `version.json` â†’ `.cursor/version.json`ï¼‰ä¸¦é€é `--agent-version` åƒæ•¸å‚³éçµ¦ `create-mr.mjs`ã€‚
11. **MR description æ ¼å¼å›æ­¸æª¢æŸ¥ï¼ˆCRITICALï¼‰**ï¼šåœ¨å»ºç«‹/æ›´æ–° MR å‰ï¼Œè…³æœ¬æœƒé©—è­‰ MR description æ˜¯å¦åŒ…å«è¦ç¯„è¦æ±‚çš„é–‹ç™¼å ±å‘Šæ ¼å¼ï¼ˆé—œè¯å–®è³‡è¨Š/è®Šæ›´æ‘˜è¦/è®Šæ›´å…§å®¹è¡¨æ ¼/é¢¨éšªè©•ä¼°è¡¨æ ¼ï¼›è‹¥å¯è¾¨è­˜ç‚º Bugï¼Œéœ€åŒ…å«å½±éŸ¿ç¯„åœèˆ‡æ ¹æœ¬åŸå› ï¼‰ã€‚ä¸ç¬¦åˆå°‡ä¸­æ­¢æµç¨‹ä¸¦æç¤ºè£œé½Šæ–¹å¼ï¼ˆ`create-mr.mjs` åƒ…ç”¨æ–¼å»ºç«‹ï¼›æ›´æ–°è«‹ä½¿ç”¨ `update-mr.mjs`ï¼‰ã€‚

**é‡è¦**ï¼šå¿…é ˆéµå®ˆ [ai-decision-making-priorities.mdc](mdc:.cursor/rules/ai-decision-making-priorities.mdc) è¦å‰‡ï¼šç•¶æª¢æ¸¬åˆ°éœ€è¦ä¿®æ”¹ä»£ç¢¼çš„å•é¡Œæ™‚ï¼Œ**å¿…é ˆç«‹å³åœæ­¢ä¸¦è©¢å•ç”¨æˆ¶**ï¼Œä¸èƒ½è‡ªå‹•ä¿®å¾©ã€‚**å…ˆè©¢å•å†ä¿®æ”¹ > å®Œæˆä»»å‹™**ã€‚

**åƒæ•¸æ”¯æŒï¼š**
- `cr single-ticket --reviewer="@username"`ï¼šæŒ‡å®š MR reviewerï¼ˆ**åƒ…åœ¨ç”¨æˆ¶æ˜ç¢ºæŒ‡å®šæ™‚ä½¿ç”¨**ï¼‰
  - **Reviewer å„ªå…ˆé †åº**ï¼š
    1. å‘½ä»¤è¡Œåƒæ•¸ï¼ˆ`--reviewer=`ï¼‰ï¼šæœ€é«˜å„ªå…ˆç´šï¼Œç”¨æˆ¶æ˜ç¢ºæŒ‡å®š
    2. ç’°å¢ƒè®Šæ•¸ï¼ˆ`.env.local` ä¸­çš„ `MR_REVIEWER`ï¼‰ï¼šç”¨æˆ¶åå¥½è¨­ç½®
    3. é è¨­å€¼ï¼ˆ`@william.chiang`ï¼‰ï¼šå¦‚æœæœªè¨­ç½®ç’°å¢ƒè®Šæ•¸å‰‡ä½¿ç”¨æ­¤å€¼
  - **é‡è¦**ï¼šAI è‡ªå‹•åŸ·è¡Œ `cr single-ticket` å‘½ä»¤æ™‚çš„è™•ç†æ–¹å¼ï¼š
    - **å¦‚æœç”¨æˆ¶æ˜ç¢ºæŒ‡å®šäº† reviewer**ï¼ˆä¾‹å¦‚ï¼šåœ¨æŒ‡ä»¤ä¸­æä¾›äº† `--reviewer` åƒæ•¸ï¼Œæˆ–åœ¨æ–‡å­—æè¿°ä¸­æåˆ°äº† reviewer ä¸¦ç¢ºèªä½¿ç”¨ï¼‰ï¼Œ**å¿…é ˆå‚³é `--reviewer` åƒæ•¸**
    - **å¦‚æœç”¨æˆ¶æœªæ˜ç¢ºæŒ‡å®š reviewer**ï¼ˆæœªæä¾›åƒæ•¸ä¸”æœªåœ¨æ–‡å­—æè¿°ä¸­æåŠï¼‰ï¼Œ**ä¸æ‡‰å‚³é `--reviewer` åƒæ•¸**ï¼Œè®“è…³æœ¬è‡ªå‹•å¾ç’°å¢ƒè®Šæ•¸è®€å–æˆ–ä½¿ç”¨é è¨­å€¼
- `cr single-ticket --target=branch-name`ï¼šæŒ‡å®šç›®æ¨™åˆ†æ”¯ï¼ˆé è¨­: "main"ï¼‰
  - **é‡è¦**ï¼šé—œæ–¼ Hotfix target branch è‡ªå‹•è¨­ç½®è¦å‰‡ï¼Œè«‹åƒè€ƒ `.cursor/rules/cr/commit-and-mr-guidelines.mdc` ä¸­çš„ "Target Branch" ç« ç¯€
- `cr single-ticket --no-draft`ï¼šä¸ä½¿ç”¨ draft ç‹€æ…‹ï¼ˆé è¨­ç‚º draftï¼‰
- `cr single-ticket --no-review`ï¼šæ˜ç¢ºè·³é AI reviewï¼ˆä¸é€å¯©ï¼‰
- `cr single-ticket --no-notify`ï¼šåœç”¨ Cursor rules æª¢æŸ¥å¤±æ•—æ™‚çš„ç³»çµ±é€šçŸ¥ï¼ˆé è¨­ç‚ºé–‹å•Ÿï¼‰

**`--development-report` ä¸è·‘ç‰ˆå»ºè­°ï¼š**
- **æ–¹æ³• Aï¼ˆæ¨è–¦ï¼‰**ï¼šç”¨ heredoc ç›´æ¥æŠŠ Markdown ç•¶ä½œåƒæ•¸å€¼ï¼ˆä¸ç”¢ç”Ÿæª”æ¡ˆï¼‰
  ```bash
  node .cursor/scripts/cr/create-mr.mjs \
    --development-report="$(cat <<'EOF'
  ## ğŸ“‹ é—œè¯å–®è³‡è¨Š

  | é …ç›® | å€¼ |
  |---|---|
  | **å–®è™Ÿ** | [FE-7910](https://innotech.atlassian.net/browse/FE-7910) |
  | **æ¨™é¡Œ** | ... |
  | **é¡å‹** | ... |

  ---

  ## ğŸ“ è®Šæ›´æ‘˜è¦

  ...

  ### è®Šæ›´å…§å®¹

  | æª”æ¡ˆ | ç‹€æ…‹ | èªªæ˜ |
  |---|---|---|
  | `path/to/file.ts` | æ›´æ–° | ... |

  ---

  ## âš ï¸ é¢¨éšªè©•ä¼°

  | æª”æ¡ˆ | é¢¨éšªç­‰ç´š | è©•ä¼°èªªæ˜ |
  |---|---|---|
  | `path/to/file.ts` | ä¸­åº¦ | ... |
  EOF
  )"
  ```
- **æ–¹æ³• B**ï¼šå‚³å…¥ JSON stringï¼ˆè…³æœ¬æœƒè‡ªå‹•æŠŠ `\\n` è½‰æˆçœŸæ­£æ›è¡Œï¼‰

**åƒæ•¸ä½¿ç”¨ç¯„ä¾‹ï¼š**
- `cr single-ticket`ï¼šä½¿ç”¨é è¨­è¨­å®š
- `cr single-ticket --reviewer="@john.doe"`ï¼šæŒ‡å®š reviewer ç‚º @john.doe
- `cr single-ticket --target=develop --no-draft`ï¼šç›®æ¨™åˆ†æ”¯ç‚º developï¼Œä¸”ä¸ä½¿ç”¨ draft ç‹€æ…‹
- `cr single-ticket --no-notify`ï¼šåœç”¨ç³»çµ±é€šçŸ¥åŠŸèƒ½

**é‡è¦ï¼šä¿è­·ç¾æœ‰ Reviewer è¦å‰‡**
- å¦‚æœ MR å·²ç¶“å­˜åœ¨ä¸”å·²æœ‰ reviewerï¼Œç³»çµ±æœƒè‡ªå‹•æª¢æŸ¥ï¼š
  - **å¦‚æœç”¨æˆ¶æœªæ˜ç¢ºæŒ‡å®š `--reviewer` åƒæ•¸**ï¼ˆå³ä½¿ç”¨é è¨­å€¼ï¼‰ï¼Œç³»çµ±æœƒ**ä¿ç•™ç¾æœ‰çš„ reviewer**ï¼Œä¸æœƒæ›´æ–°
  - **å¦‚æœç”¨æˆ¶æ˜ç¢ºæŒ‡å®šäº† `--reviewer` åƒæ•¸**ï¼ˆä¾‹å¦‚ï¼š`cr single-ticket --reviewer="@john.doe"`ï¼‰ï¼Œç³»çµ±æœƒ**æ›´æ–° reviewer** ç‚ºæŒ‡å®šçš„ç”¨æˆ¶
- æ­¤è¦å‰‡é©ç”¨æ–¼æ‰€æœ‰ `cr` ç³»åˆ—æŒ‡ä»¤ï¼ˆ`cr single-ticket`ã€`cr multiple-ticket`ï¼‰

**æ™ºèƒ½åµæ¸¬åŠŸèƒ½ï¼ˆæ”¯æ´è·¨èªç³»ï¼‰ï¼š**
ç³»çµ±æœƒè‡ªå‹•åµæ¸¬æ–‡å­—æè¿°ä¸­çš„åƒæ•¸ç›¸é—œå…§å®¹ï¼Œä¸¦è©¢å•æ˜¯å¦è¦è¨­ç½®å°æ‡‰åƒæ•¸ã€‚**å³ä½¿ chat å…§å®¹éä¸­æ–‡ï¼Œä¹Ÿèƒ½åˆ¤æ–·æ˜¯å¦åŒ…å«é¡ä¼¼çš„ä¸­æ–‡æƒ…å¢ƒã€‚**

1. **é—œè¯å–®è™Ÿåµæ¸¬**ï¼šå¦‚æœæåˆ°äº†å–®è™Ÿï¼ˆä¾‹å¦‚ï¼š`IN-1234`ã€`FE-5678` ç­‰ï¼‰ï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è©¢å•
   - æ³¨æ„ï¼š`cr single-ticket` æŒ‡ä»¤ä¸æ”¯æ´ `--related-tickets` åƒæ•¸ï¼Œå¦‚æœåµæ¸¬åˆ°å–®è™Ÿï¼Œç³»çµ±æœƒæç¤ºè©²æŒ‡ä»¤ä¸æ”¯æ´æ­¤åŠŸèƒ½ï¼Œå»ºè­°ä½¿ç”¨ `cr multiple-ticket` æŒ‡ä»¤

2. **Reviewer åµæ¸¬**ï¼šå¦‚æœæåˆ°äº† reviewer ç”¨æˆ¶åï¼ˆä¾‹å¦‚ï¼š`@john.doe`ï¼‰ï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è©¢å•æ˜¯å¦è¦è¨­ç½®ç‚º `--reviewer` åƒæ•¸
   - ä¸­æ–‡ç¯„ä¾‹ï¼š`cr single-ticket è«‹è®“ @john.doe å¯©æŸ¥é€™å€‹ä¿®æ”¹` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ° @john.doe
   - è‹±æ–‡ç¯„ä¾‹ï¼š`cr single-ticket please let @john.doe review this change` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ° @john.doe

3. **ç›®æ¨™åˆ†æ”¯åµæ¸¬**ï¼šå¦‚æœæåˆ°äº†ç›®æ¨™åˆ†æ”¯åç¨±ï¼ˆä¾‹å¦‚ï¼š`develop`ã€`main` ç­‰ï¼‰ï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è©¢å•æ˜¯å¦è¦è¨­ç½®ç‚º `--target` åƒæ•¸
   - ä¸­æ–‡ç¯„ä¾‹ï¼š`cr single-ticket é€™å€‹ä¿®æ”¹è¦åˆä½µåˆ° develop åˆ†æ”¯` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ° develop
   - è‹±æ–‡ç¯„ä¾‹ï¼š`cr single-ticket merge this change to develop branch` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ° develop

4. **Draft ç‹€æ…‹åµæ¸¬**ï¼šå¦‚æœæåˆ°äº†éè‰ç¨¿ç‹€æ…‹çš„æ„åœ–ï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è©¢å•æ˜¯å¦è¦è¨­ç½® `--no-draft` åƒæ•¸
   - ä¸­æ–‡ç¯„ä¾‹ï¼š`cr single-ticket é€™å€‹ä¿®æ”¹ç›´æ¥æäº¤ï¼Œä¸è¦ draft` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ°éè‰ç¨¿æ„åœ–
   - è‹±æ–‡ç¯„ä¾‹ï¼š`cr single-ticket submit this change directly, no draft` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬åˆ°éè‰ç¨¿æ„åœ–

5. **é€šçŸ¥è¨­å®šåµæ¸¬**ï¼šå¦‚æœæåˆ°äº†ä¸è¦é€šçŸ¥çš„æ„åœ–ï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è¨­ç½® `--no-notify` åƒæ•¸
   - ä¸­æ–‡ç¯„ä¾‹ï¼š`cr single-ticket å»ºç«‹ MRï¼Œä¸è¦é€šçŸ¥` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è·³éé€šçŸ¥
   - è‹±æ–‡ç¯„ä¾‹ï¼š`cr single-ticket create MR without notification` â†’ ç³»çµ±æœƒè‡ªå‹•åµæ¸¬ä¸¦è·³éé€šçŸ¥

**æ³¨æ„ï¼š** 
- `cr single-ticket` æŒ‡ä»¤é è¨­æœƒé€å¯©ï¼›å¦‚éœ€ä¸é€å¯©ï¼Œè«‹ä½¿ç”¨ `--no-review`ã€‚
- `cr single-ticket` æŒ‡ä»¤ä¸æ”¯æ´ `--related-tickets` åƒæ•¸ï¼Œå› ç‚ºå®ƒæœƒè‡ªå‹•ç•¥éé—œè¯å–®è™Ÿè©¢å•ç’°ç¯€ã€‚

