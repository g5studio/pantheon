---
description: Use adapt.json coding-standard as repo-specific guidance
---

# Adapt Coding Standard（Repo Knowledge）

本規則用於讓 Cursor 互動式 AI 在執行開發/改碼任務時，**參考並遵循**由 `adapt` 產出的 repo 知識庫：`.cursor/tmp/pantheon/adapt.json` 內的 `coding-standard`。

## 適用範圍

- Cursor Chat / Agent 互動式開發協作（需求分析、設計、實作、重構、修 bug）
- 任何需要產出或修改程式碼的情境

## 核心要求

### 1) 開始改碼前，先讀取 repo knowledge（best-effort）

- 讀取檔案：`.cursor/tmp/pantheon/adapt.json`
- 解析 `coding-standard`（為 array，每筆為 `{ rule, example }`）
- 將其中每一條 `rule` 視為 **repo-specific coding standard**，在本次任務中盡量遵循
- `example` 作為具體寫法參考

### 2) 檔案不存在 / 內容缺失時，不阻塞但要告知

若符合以下任一狀況：
- `.cursor/tmp/pantheon/adapt.json` 不存在
- JSON 解析失敗
- 缺少 `coding-standard` 或其為空陣列

則：
- **不要中止任務**
- 在回覆中以一句話提示使用者（例如：「找不到 adapt repo knowledge（或 coding-standard 為空），本次將略過此參考。」）
- 繼續依照其他既有規則與使用者需求執行

### 3) 規則衝突處理

- 若 `coding-standard` 與使用者當前指令衝突：以使用者指令為準（並在必要時提醒風險）
- 若 `coding-standard` 與更高優先級規則衝突（例如系統/工作區的安全規則、受保護目錄授權、git 安全流程等）：以更高優先級規則為準

## 補充：如何更新這份 coding standard（給操作者）

- `adapt.json` 由 `adapt` 指令/腳本產生與更新（可能包含快取邏輯）。
- 若要更新 repo knowledge，先確保必要配置，再重新執行 `adapt` 產生最新輸出。

