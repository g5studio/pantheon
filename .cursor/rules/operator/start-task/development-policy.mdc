---
description: å®šç¾© operator åœ¨ start-task ç¨‹åºæ™‚éœ€éµå®ˆçš„é–‹ç™¼åŸå‰‡ï¼ŒåŒ…å«é–‹ç™¼æµç¨‹ã€å ±å‘Šç”Ÿæˆå’Œ MR è™•ç†
alwaysApply: false
---
# Start-Task é–‹ç™¼åŸå‰‡

æ­¤è¦å‰‡å®šç¾©äº†åœ¨åŸ·è¡Œ `start-task` æŒ‡ä»¤é€²è¡Œé–‹ç™¼æ™‚ï¼Œå¿…é ˆéµå®ˆçš„é–‹ç™¼åŸå‰‡å’Œæµç¨‹è¦ç¯„ã€‚

## ç›¸é—œè¦å‰‡

- **è¡Œç‚ºæ¨¡å¼è¦å‰‡**ï¼š[operation-modes.mdc](mdc:.cursor/rules/operator/start-task/operation-modes.mdc) - å®šç¾©å››ç¨®è¡Œç‚ºæ¨¡å¼ï¼ˆè¬¹æ…ã€å¤šå·¥ã€é«˜æ•ˆã€é è¨­ï¼‰
- **Jira æª¢æŸ¥è¦å‰‡**ï¼š[start-task-jira-check.mdc](mdc:.cursor/rules/operator/start-task/start-task-jira-check.mdc) - å®šç¾© Jira ticket æª¢æŸ¥åŸå‰‡

## é©ç”¨å ´æ™¯

æ­¤è¦å‰‡é©ç”¨æ–¼ `start-task` æŒ‡ä»¤åŸ·è¡Œéç¨‹ä¸­çš„æ‰€æœ‰é–‹ç™¼éšæ®µï¼ŒåŒ…æ‹¬ï¼š
- **è¡Œç‚ºæ¨¡å¼é¸æ“‡**ï¼ˆæ–°å¢ï¼‰
- é–‹ç™¼è¨ˆåŠƒç¢ºèªå’ŒåŸ·è¡Œ
- ä»£ç¢¼ä¿®æ”¹å’Œå¯¦ç¾
- é–‹ç™¼å®Œæˆå¾Œçš„å ±å‘Šç”Ÿæˆ
- Commit å‰çš„ç¢ºèªæµç¨‹
- MR å»ºç«‹å’Œå ±å‘Šæª¢é™„

---

## ğŸš¨ è¡Œç‚ºæ¨¡å¼å°é–‹ç™¼åŸå‰‡çš„å½±éŸ¿

**CRITICAL**: ä¸åŒçš„è¡Œç‚ºæ¨¡å¼æœƒå½±éŸ¿é–‹ç™¼åŸå‰‡çš„åŸ·è¡Œæ–¹å¼ï¼Œå¿…é ˆæ ¹æ“šé¸æ“‡çš„æ¨¡å¼èª¿æ•´è¡Œç‚ºã€‚

### æ¨¡å¼å°ç…§è¡¨

| åŸå‰‡ | è¬¹æ…æ¨¡å¼ | å¤šå·¥æ¨¡å¼ | é«˜æ•ˆæ¨¡å¼ | é è¨­æ¨¡å¼ |
|---|---|---|---|---|
| **ç¢ºèªæµç¨‹** | æ¯æ­¥ç¢ºèª | åƒ…è¨ˆåŠƒç¢ºèª | åƒ…é–‹å§‹ç¢ºèª | æ¯éšæ®µç¢ºèª |
| **é–‹ç™¼å ±å‘Š** | è©³ç´° + å›æ»¾æ–¹æ¡ˆ | æ¯éšæ®µæ‘˜è¦ | ç°¡åŒ– | æ¨™æº– |
| **Commit æ™‚æ©Ÿ** | å–®æ¬¡ | æ¯éšæ®µ | æ¯ä»»å‹™ | å–®æ¬¡ |
| **MR ç­–ç•¥** | å–®ä¸€ + è©³ç´°æè¿° | çµ±ä¸€ + é—œè¯æ‰€æœ‰å–®è™Ÿ | æ¯ä»»å‹™ç¨ç«‹ | å–®ä¸€ |
| **ä¸­æ–·è™•ç†** | ç«‹å³åœæ­¢ | æš«åœç•¶å‰éšæ®µ | è¨˜éŒ„ä¸¦è·³é | ç­‰å¾…ç¢ºèª |

### æ¨¡å¼ç‰¹å®šåŸå‰‡

#### è¬¹æ…æ¨¡å¼é¡å¤–è¦æ±‚
- æ¯å€‹ä»£ç¢¼ä¿®æ”¹å‰å¿…é ˆé¡¯ç¤ºå½±éŸ¿ç¯„åœ
- MR Description å¿…é ˆåŒ…å«å›æ»¾æ–¹æ¡ˆ
- ç¦æ­¢é€²è¡Œä»»ä½•ã€Œé †ä¾¿å„ªåŒ–ã€

#### å¤šå·¥æ¨¡å¼é¡å¤–è¦æ±‚
- Git notes å¿…é ˆè¨˜éŒ„ç•¶å‰éšæ®µé€²åº¦
- æ¯éšæ®µå®Œæˆå¾Œè‡ªå‹• commitï¼ˆä¸ç­‰å¾…ç¢ºèªï¼‰
- MR Description å¿…é ˆé—œè¯æ‰€æœ‰å­ä»»å‹™å–®è™Ÿ
- **å¿…é ˆéµå®ˆå¤šå·¥æ¨¡å¼ SOP**ï¼šåŒ…å«å­ä»»å‹™å…¨é‡é–±è®€èˆ‡æ’ç¨‹ï¼ˆåƒ…æ’ç¨‹æœ‰çµ¦ AI æŒ‡ç¤ºçš„å­ä»»å‹™ï¼‰ã€Requirement å–®è™Ÿä½œç‚º feature branchã€Sub-task å–®è™Ÿä½œç‚º commit scopeã€é–‹å§‹å‰æª¢æŸ¥/è£œå¡« Original Estimate ä¸¦åˆ‡åˆ°ã€Œé–‹ç™¼ä¸­ã€ã€å®Œæˆå¾Œåˆ‡åˆ° Development Review ä¸¦ç•™è¨€éšæ®µæ€§å ±å‘Šé€šçŸ¥ RDã€å®Œæˆä¸€å€‹å­ä»»å‹™å¾Œè‡ªå‹•æ¨é€²ä¸‹ä¸€å€‹ã€ä»¥åŠå…¨éƒ¨æ’ç¨‹å®Œæˆå¾Œå›åˆ° start-task MR è¦ç¯„æµç¨‹ã€‚
- **æ’ç¨‹ç¯„åœé™åˆ¶ï¼ˆæ–°å¢ï¼‰**ï¼šå¤šå·¥æ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡é‹ä½œåªç›¤é»/æ’ç¨‹ **ç‹€æ…‹ç‚º To Do** ä¸” **å–®å…§åŒ…å« AI æŒ‡ç¤º** çš„å­ä»»å‹™ï¼›å…¶é¤˜å­ä»»å‹™ä¸ç´å…¥æœ¬æ¬¡è‡ªå‹•æ’ç¨‹ã€‚

è«‹åƒè€ƒï¼š
- [multi-task-mode-sop.mdc](mdc:.cursor/rules/operator/start-task/multi-task-mode-sop.mdc)

#### é«˜æ•ˆæ¨¡å¼é¡å¤–è¦æ±‚
- é–‹ç™¼è¨ˆåŠƒä¸é¡¯ç¤ºçµ¦ç”¨æˆ¶ï¼ˆå…§éƒ¨åŸ·è¡Œï¼‰
- éŒ¯èª¤ç™¼ç”Ÿæ™‚æä¾›è·³éé¸é …
- å…¨éƒ¨å®Œæˆå¾Œæ‰ç™¼é€ç³»çµ±é€šçŸ¥

è©³ç´°è¦ç¯„è«‹åƒè€ƒï¼š[operation-modes.mdc](mdc:.cursor/rules/operator/start-task/operation-modes.mdc)

---

## ğŸš¨ å¼·åˆ¶åŸ·è¡Œï¼šä¿å­˜é–‹ç™¼è¨ˆåŠƒåˆ° Git Notes

**CRITICAL**: ç•¶ç”¨æˆ¶ç¢ºèªé–‹ç™¼è¨ˆåŠƒå¾Œï¼ŒAI **å¿…é ˆç«‹å³**åŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼Œ**çµ•å°ä¸å¯éºæ¼**ã€‚

### ä¿å­˜æ™‚æ©Ÿ

| æ™‚æ©Ÿ | å‹•ä½œ | å¼·åˆ¶æ€§ |
|-----|------|-------|
| ç”¨æˆ¶ç¢ºèªé–‹ç™¼è¨ˆåŠƒå¾Œ | **ç«‹å³ä¿å­˜** Git notes | ğŸš¨ å¿…é ˆ |
| é–‹ç™¼éç¨‹ä¸­èª¿æ•´è¨ˆåŠƒæ™‚ | æ›´æ–° Git notes | å»ºè­° |
| é–‹ç™¼å®Œæˆæº–å‚™ commit å‰ | æª¢æŸ¥ Git notes å­˜åœ¨ | ğŸš¨ å¿…é ˆ |
| åŸ·è¡Œ cr æŒ‡ä»¤å‰ | é©—è­‰ Git notes å­˜åœ¨ | ğŸš¨ å¿…é ˆ |

### startTaskInfo JSON æ ¼å¼

```json
{
  "ticket": "IN-107113",
  "summary": "[Jira æ¨™é¡Œ]",
  "issueType": "Bug",
  "status": "To Do",
  "assignee": "FE-William",
  "priority": "Medium",
  "suggestedSteps": ["æ­¥é©Ÿ1", "æ­¥é©Ÿ2", "æ­¥é©Ÿ3"],
  "sourceBranch": "main",
  "featureBranch": "feature/IN-107113",
  "startedAt": "2025-12-10T14:30:00+08:00",
  "aiCompleted": true,
  "developmentReport": null,
  "operationMode": "default",
  "modeConfig": {}
}
```

### è¡Œç‚ºæ¨¡å¼æ¬„ä½èªªæ˜

| æ¬„ä½ | èªªæ˜ | å¯é¸å€¼ |
|---|---|---|
| `operationMode` | é¸æ“‡çš„è¡Œç‚ºæ¨¡å¼ | `cautious`, `multi-task`, `efficient`, `default` |
| `modeConfig` | æ¨¡å¼ç‰¹å®šé…ç½® | è¦‹ä¸‹æ–¹å„æ¨¡å¼é…ç½® |

**è¬¹æ…æ¨¡å¼ (cautious) é…ç½®**ï¼š
```json
{
  "operationMode": "cautious",
  "modeConfig": {
    "confirmEachStep": true,
    "minimumChanges": true,
    "rollbackPlan": true
  }
}
```

**å¤šå·¥æ¨¡å¼ (multi-task) é…ç½®**ï¼š
```json
{
  "operationMode": "multi-task",
  "modeConfig": {
    "parentTicket": "FE-1234",
    "subTasks": ["FE-1234-1", "FE-1234-2"],
    "currentPhase": 1,
    "totalPhases": 2,
    "phaseCommits": ["hash1", "hash2"],
    "commitPerPhase": true,
    "singleMR": true
  }
}
```

**é«˜æ•ˆæ¨¡å¼ (efficient) é…ç½®**ï¼š
```json
{
  "operationMode": "efficient",
  "modeConfig": {
    "tickets": ["FE-1234", "FE-1235", "FE-1236"],
    "currentIndex": 0,
    "totalTasks": 3,
    "completedTasks": [],
    "skippedTasks": [],
    "autoProgress": true,
    "mrPerTask": true
  }
}
```

**é è¨­æ¨¡å¼ (default) é…ç½®**ï¼š
```json
{
  "operationMode": "default",
  "modeConfig": {}
}
```

### ä¿å­˜å‘½ä»¤

ä½¿ç”¨ `.cursor/scripts/operator/save-start-task-info.mjs` è…³æœ¬ä¿å­˜ï¼š

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨ç¨ç«‹åƒæ•¸ï¼ˆåŒ…å«è¡Œç‚ºæ¨¡å¼ï¼‰
node .cursor/scripts/operator/save-start-task-info.mjs \
  --ticket=IN-107113 \
  --summary="[æ¨™é¡Œ]" \
  --type=Bug \
  --status="To Do" \
  --assignee="FE-William" \
  --priority="Medium" \
  --steps='["æ­¥é©Ÿ1", "æ­¥é©Ÿ2", "æ­¥é©Ÿ3"]' \
  --source-branch=main \
  --ai-completed=true \
  --operation-mode=default \
  --mode-config='{}'

# æ–¹å¼ 2ï¼šä½¿ç”¨å®Œæ•´ JSONï¼ˆåŒ…å«è¡Œç‚ºæ¨¡å¼ï¼‰
node .cursor/scripts/operator/save-start-task-info.mjs --json='{
  "ticket": "IN-107113",
  "operationMode": "multi-task",
  "modeConfig": {
    "parentTicket": "IN-107113",
    "subTasks": ["IN-107113-1", "IN-107113-2"]
  }
}'

# é©—è­‰ä¿å­˜æˆåŠŸ
node .cursor/scripts/operator/save-start-task-info.mjs --verify

# è®€å–ç¾æœ‰ notes
node .cursor/scripts/operator/save-start-task-info.mjs --read

# æ›´æ–°ç¾æœ‰ notesï¼ˆåˆä½µæ¨¡å¼ï¼‰
node .cursor/scripts/operator/save-start-task-info.mjs --update --steps='["æ–°æ­¥é©Ÿ"]'

# æ›´æ–°å¤šå·¥æ¨¡å¼çš„éšæ®µé€²åº¦
node .cursor/scripts/operator/save-start-task-info.mjs --update \
  --mode-config='{"currentPhase": 2, "phaseCommits": ["hash1", "hash2"]}'
```

### å¼·åˆ¶æª¢æŸ¥é»

AI åœ¨ä»¥ä¸‹æ™‚æ©Ÿï¼Œ**å¿…é ˆ**ç¢ºèª Git notes å·²ä¿å­˜ï¼š

- [ ] **ç”¨æˆ¶ç¢ºèªé–‹ç™¼è¨ˆåŠƒå¾Œ** â†’ ç«‹å³åŸ·è¡Œ `save-start-task-info.mjs`
- [ ] **åŸ·è¡Œ `--verify` é©—è­‰** â†’ ç¢ºèªä¿å­˜æˆåŠŸ
- [ ] **é–‹ç™¼å®Œæˆæº–å‚™ commit å‰** â†’ æª¢æŸ¥ notes å­˜åœ¨
- [ ] **åŸ·è¡Œ `cr` æŒ‡ä»¤å‰** â†’ å†æ¬¡é©—è­‰ notes å­˜åœ¨

### éºæ¼è™•ç†

å¦‚æœåœ¨ commit æˆ–å»ºç«‹ MR æ™‚ç™¼ç¾æ²’æœ‰ Git notesï¼š

1. **ç«‹å³åœæ­¢**æµç¨‹
2. **è©¢å•ç”¨æˆ¶**æ˜¯å¦è¦è£œå……é–‹ç™¼è¨ˆåŠƒ
3. ä½¿ç”¨è…³æœ¬ä¿å­˜ï¼š
   ```bash
   node .cursor/scripts/operator/save-start-task-info.mjs \
     --ticket={å¾åˆ†æ”¯åæå–} \
     --summary="[è£œå……æ¨™é¡Œ]" \
     --type={æ¨æ–·é¡å‹} \
     --steps='["å·²å®Œæˆçš„æ­¥é©Ÿ"]' \
     --ai-completed=true
   ```
4. **é©—è­‰ä¿å­˜æˆåŠŸå¾Œ**æ‰ç¹¼çºŒæµç¨‹

### æµç¨‹æª¢æŸ¥æ¸…å–®

```
## éšæ®µ 0ï¼šæ¨¡å¼é¸æ“‡ï¼ˆæ–°å¢ï¼‰
- [ ] ğŸš¨ é¡¯ç¤ºè¡Œç‚ºæ¨¡å¼é¸é …çµ¦ç”¨æˆ¶
- [ ] è­˜åˆ¥ç”¨æˆ¶é¸æ“‡çš„æ¨¡å¼
- [ ] è¨˜éŒ„æ¨¡å¼åˆ°å¾ŒçºŒæµç¨‹

## éšæ®µ 1ï¼šåˆå§‹åŒ–
- [ ] è®€å– Jira ticket è³‡è¨Š
- [ ] æª¢æŸ¥ RD å»ºè­°ï¼ˆfor AI æ¨™è¨˜ï¼‰
- [ ] åˆ†æéœ€æ±‚ä¸¦åˆ¶å®šé–‹ç™¼è¨ˆåŠƒ
- [ ] ğŸš¨ æ ¹æ“šæ¨¡å¼æ±ºå®šæ˜¯å¦é¡¯ç¤ºè¨ˆåŠƒ

## éšæ®µ 2ï¼šç¢ºèªè¨ˆåŠƒ
- [ ] é¡¯ç¤ºé–‹ç™¼è¨ˆåŠƒçµ¦ç”¨æˆ¶ï¼ˆé«˜æ•ˆæ¨¡å¼è·³éï¼‰
- [ ] ç­‰å¾…ç”¨æˆ¶ç¢ºèªï¼ˆé«˜æ•ˆæ¨¡å¼è·³éï¼‰
- [ ] ğŸš¨ ä¿å­˜é–‹ç™¼è¨ˆåŠƒåˆ° Git notesï¼ˆåŒ…å« operationModeï¼‰â† å®¹æ˜“éºæ¼
- [ ] ğŸš¨ é©—è­‰ä¿å­˜æˆåŠŸ

## éšæ®µ 3ï¼šé–‹ç™¼åŸ·è¡Œ
- [ ] åŸ·è¡Œé–‹ç™¼æ­¥é©Ÿ
- [ ] å®Œæˆä»£ç¢¼ä¿®æ”¹
- [ ] ğŸš¨ è¬¹æ…æ¨¡å¼ï¼šæ¯æ­¥ç¢ºèª
- [ ] ğŸš¨ å¤šå·¥æ¨¡å¼ï¼šæ¯éšæ®µç¨ç«‹ commit

## éšæ®µ 4ï¼šå®Œæˆå ±å‘Š
- [ ] ç”Ÿæˆé–‹ç™¼å ±å‘Šï¼ˆæ ¹æ“š Jira é¡å‹ï¼‰
- [ ] é¡¯ç¤ºå ±å‘Šçµ¦ç”¨æˆ¶ç¢ºèªï¼ˆé«˜æ•ˆæ¨¡å¼è·³éï¼‰
- [ ] æ›´æ–° Git notesï¼ˆå¦‚æœ‰å ±å‘Šï¼‰

## éšæ®µ 5ï¼šæäº¤ MR
- [ ] ğŸš¨ æª¢æŸ¥ Git notes å­˜åœ¨
- [ ] åŸ·è¡Œ commitï¼ˆå¤šå·¥æ¨¡å¼å·²å®Œæˆï¼‰
- [ ] å»ºç«‹ MRï¼ˆè‡ªå‹•è®€å– notes ç”Ÿæˆ descriptionï¼‰
- [ ] ğŸš¨ å¤šå·¥æ¨¡å¼ï¼šMR é—œè¯æ‰€æœ‰å­ä»»å‹™å–®è™Ÿ
- [ ] ğŸš¨ é«˜æ•ˆæ¨¡å¼ï¼šæ¯ä»»å‹™ç¨ç«‹ MR

## éšæ®µ 6ï¼šé€šçŸ¥ï¼ˆæ–°å¢ï¼‰
- [ ] ğŸš¨ é«˜æ•ˆæ¨¡å¼ï¼šå…¨éƒ¨å®Œæˆå¾Œç™¼é€ç³»çµ±é€šçŸ¥
- [ ] å¤šå·¥æ¨¡å¼ï¼šå…¨éƒ¨å®Œæˆå¾Œç™¼é€ç³»çµ±é€šçŸ¥
```

---

## AI ç¨ç«‹å®Œæˆé …ç›®çš„æ¨™è¨˜å’Œ MR è™•ç†

### æ¨™è¨˜ AI ç¨ç«‹å®Œæˆçš„é …ç›®

**CRITICAL**: ç•¶ AI ä½¿ç”¨ `start-task` ç¨ç«‹å®Œæˆä¸€å€‹é …ç›®æ™‚ï¼ˆå³å¾é–‹å§‹åˆ°å®Œæˆéƒ½ç”± AI åŸ·è¡Œï¼Œç”¨æˆ¶åƒ…ç¢ºèªè¨ˆåŠƒï¼‰ï¼Œå¿…é ˆåœ¨ä¿å­˜é–‹ç™¼è¨ˆåŠƒæ™‚æ¨™è¨˜ç‚º AI ç¨ç«‹å®Œæˆã€‚

**æ¨™è¨˜æ–¹å¼**ï¼š
- åœ¨ `startTaskInfo` å°è±¡ä¸­æ·»åŠ  `aiCompleted: true` æ¨™è¨˜
- æ­¤æ¨™è¨˜ç”¨æ–¼å¾ŒçºŒ MR æ™‚è‡ªå‹•æ·»åŠ  AI label å’Œé–‹ç™¼æ–¹æ¡ˆ

**åˆ¤æ–·æ¨™æº–**ï¼š
- é …ç›®å¾ `start-task` é–‹å§‹
- é–‹ç™¼è¨ˆåŠƒç”± AI åˆ¶å®šä¸¦ç¶“ç”¨æˆ¶ç¢ºèª
- é–‹ç™¼éç¨‹ä¸»è¦ç”± AI åŸ·è¡Œï¼ˆç”¨æˆ¶å¯èƒ½æä¾›åé¥‹æˆ–èª¿æ•´ï¼Œä½†æ ¸å¿ƒé–‹ç™¼ç”± AI å®Œæˆï¼‰
- æœ€çµ‚ç”± AI åŸ·è¡Œ `cr single-ticket` æˆ– `cr multiple-ticket` å»ºç«‹ MR

### MR æ™‚è‡ªå‹•è™•ç†ï¼ˆcr ç³»åˆ—æŒ‡ä»¤ï¼‰

ç•¶åŸ·è¡Œ `cr single-ticket` æˆ– `cr multiple-ticket` æŒ‡ä»¤å»ºç«‹ MR æ™‚ï¼Œå¦‚æœæª¢æ¸¬åˆ°æ˜¯ç”± AI ä½¿ç”¨ `start-task` ç¨ç«‹å®Œæˆçš„é …ç›®ï¼Œå¿…é ˆè‡ªå‹•åŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š

#### 1. è‡ªå‹•æ·»åŠ  AI Label

**å¯¦æ–½ä½ç½®**ï¼š`.cursor/scripts/cr/create-mr.mjs` çš„ `determineLabels()` å‡½æ•¸

**é‚è¼¯**ï¼š
- æª¢æŸ¥æ˜¯å¦å­˜åœ¨ `start-task` çš„ Git notesï¼ˆé€é `readStartTaskInfo()`ï¼‰
- å¦‚æœå­˜åœ¨ï¼Œè‡ªå‹•æ·»åŠ  `AI` label
- æ­¤é‚è¼¯å·²å¯¦ç¾åœ¨ `create-mr.mjs` ç¬¬ 1177-1181 è¡Œ

**ğŸš¨ AI åŸ·è¡Œè¦å‰‡ï¼ˆCRITICALï¼‰**ï¼š

ç•¶ AI é€é `start-task` æµç¨‹è§¸ç™¼ MR å»ºç«‹æ™‚ï¼Œ**å¿…é ˆ**åœ¨èª¿ç”¨ `create-mr.mjs` çš„ `--labels` åƒæ•¸ä¸­**æ˜ç¢ºåŒ…å« `AI` label**ï¼Œä¸å¯ä¾è³´è…³æœ¬è‡ªå‹•åµæ¸¬ã€‚

| é …ç›® | èªªæ˜ |
|---|---|
| **æ ¼å¼** | `--labels="<å…¶ä»–labels>,AI"` |
| **AI label** | **å¿…é ˆ**åŒ…å«åœ¨ labels åˆ—è¡¨ä¸­ |

**ç¯„ä¾‹**ï¼š
```bash
# åŸºæœ¬ç”¨æ³•
node .cursor/scripts/cr/create-mr.mjs --labels="AI" ...

# èˆ‡å…¶ä»–å°ˆæ¡ˆç‰¹å®š labels çµ„åˆ
node .cursor/scripts/cr/create-mr.mjs --labels="<å°ˆæ¡ˆlabels>,AI" ...
```

**ç¦æ­¢è¡Œç‚º**ï¼š
- âŒ ä¾è³´è…³æœ¬è‡ªå‹•åµæ¸¬æ·»åŠ  AI label
- âŒ åœ¨ `--labels` åƒæ•¸ä¸­éºæ¼ `AI`

#### 2. è‡ªå‹•æª¢é™„é–‹ç™¼æ–¹æ¡ˆåˆ° MR ç•™è¨€

**å¯¦æ–½ä½ç½®**ï¼š`.cursor/scripts/cr/create-mr.mjs` çš„ `main()` å‡½æ•¸

**é‚è¼¯**ï¼š
- æª¢æŸ¥æ˜¯å¦å­˜åœ¨ `start-task` çš„ Git notes
- å¦‚æœå­˜åœ¨ä¸”åŒ…å« `suggestedSteps`ï¼Œå°‡é–‹ç™¼æ–¹æ¡ˆæ·»åŠ åˆ° MR description
- **é‡è¦**ï¼šé–‹ç™¼æ–¹æ¡ˆå¿…é ˆä»¥**æœ€çµ‚ç‰ˆæœ¬**ç‚ºä¸»ï¼Œå³å¾ Git notes è®€å–æœ€æ–°çš„è¨ˆåŠƒä¿¡æ¯
- é¿å…ä½¿ç”¨é–‹ç™¼éç¨‹ä¸­å¯èƒ½è¢«èª¿æ•´éçš„è‡¨æ™‚è¨ˆåŠƒ

**é–‹ç™¼æ–¹æ¡ˆæ ¼å¼**ï¼š
```markdown
## ğŸ¯ é–‹ç™¼è¨ˆåŠƒ

æœ¬ MR ç”± `start-task` å‘½ä»¤å•Ÿå‹•ï¼Œä»¥ä¸‹æ˜¯åˆæ­¥åˆ¶å®šçš„é–‹ç™¼è¨ˆåŠƒï¼š

- [æ­¥é©Ÿ 1]
- [æ­¥é©Ÿ 2]
- [æ­¥é©Ÿ 3]
...

## ğŸ“‹ é—œè¯å–®è³‡è¨Š

| é …ç›® | å€¼ |
|---|---|
| **å–®è™Ÿ** | [TICKET](URL) |
| **æ¨™é¡Œ** | [SUMMARY] |
| **é¡å‹** | [ISSUE_TYPE] |
```

**èªªæ˜**ï¼š
- é–‹ç™¼è¨ˆåŠƒå€å¡Šï¼šåªåŒ…å«é–‹ç™¼æ­¥é©Ÿï¼Œä¸å«é—œè¯å–®è³‡è¨Š
- é—œè¯å–®è³‡è¨Šå€å¡Šï¼šç¨ç«‹å€å¡Šï¼Œåƒ…åŒ…å«å–®è™Ÿï¼ˆå«è¶…é€£çµï¼‰ã€æ¨™é¡Œã€é¡å‹ä¸‰é …

**å¯¦æ–½ç´°ç¯€**ï¼š
- é–‹ç™¼è¨ˆåŠƒç”± `generateDevelopmentPlanSection()` å‡½æ•¸ç”Ÿæˆ
- é—œè¯å–®è³‡è¨Šç”± `generateRelatedTicketsSection()` å‡½æ•¸ç”Ÿæˆ
- é–‹ç™¼æ–¹æ¡ˆå¾ Git notes è®€å–ï¼Œç¢ºä¿æ˜¯æœ€çµ‚ç‰ˆæœ¬
- å¦‚æœé–‹ç™¼éç¨‹ä¸­ç”¨æˆ¶èª¿æ•´éè¨ˆåŠƒæ–¹å‘ï¼ŒGit notes æ‡‰è©²åœ¨æœ€çµ‚ç¢ºèªæ™‚æ›´æ–°

#### 3. ç¢ºä¿é–‹ç™¼æ–¹æ¡ˆç‚ºæœ€çµ‚ç‰ˆæœ¬

**CRITICAL**: é–‹ç™¼æ–¹æ¡ˆå¿…é ˆåæ˜ æœ€çµ‚ç¢ºèªçš„ç‰ˆæœ¬ï¼Œè€Œéé–‹ç™¼éç¨‹ä¸­çš„è‡¨æ™‚ç‰ˆæœ¬ã€‚

**å¯¦æ–½è¦æ±‚**ï¼š
1. **åœ¨ start-task ç¢ºèªæ™‚ä¿å­˜**ï¼šç•¶ç”¨æˆ¶ç¢ºèªé–‹ç™¼è¨ˆåŠƒæ™‚ï¼Œå°‡æœ€çµ‚ç‰ˆæœ¬ä¿å­˜åˆ° Git notes
2. **åœ¨é–‹ç™¼éç¨‹ä¸­æ›´æ–°**ï¼šå¦‚æœç”¨æˆ¶åœ¨é–‹ç™¼éç¨‹ä¸­èª¿æ•´äº†è¨ˆåŠƒæ–¹å‘ï¼Œæ‡‰è©²æ›´æ–° Git notes ä¸­çš„è¨ˆåŠƒ
3. **åœ¨ MR æ™‚è®€å–æœ€æ–°ç‰ˆæœ¬**ï¼š`readStartTaskInfo()` å¾ Git notes è®€å–ï¼Œç¢ºä¿ç²å–çš„æ˜¯æœ€æ–°ç‰ˆæœ¬

**æ›´æ–° Git notes çš„æ™‚æ©Ÿ**ï¼š
- ç”¨æˆ¶ç¢ºèªåˆå§‹è¨ˆåŠƒæ™‚ï¼ˆ`start-task` ç¢ºèªéšæ®µï¼‰
- ç”¨æˆ¶æ˜ç¢ºè¦æ±‚èª¿æ•´è¨ˆåŠƒæ™‚
- é–‹ç™¼å®Œæˆæº–å‚™å»ºç«‹ MR å‰ï¼ˆå¯é¸ï¼Œç”¨æ–¼æœ€çµ‚ç¢ºèªï¼‰
- **åœ¨ commit ä¹‹å¾Œ**ï¼šç•¶ä½¿ç”¨ `agent-commit.mjs` æˆ–é¡ä¼¼è…³æœ¬é€²è¡Œ commit å¾Œï¼Œæœƒè‡ªå‹•æª¢æŸ¥ä¸¦è¤‡è£½ Git notes åˆ°æ–° commitï¼Œç¢ºä¿ `create-mr.mjs` èƒ½å¤ è®€å–åˆ° start-task ä¿¡æ¯

**æ³¨æ„äº‹é …**ï¼š
- Git notes ä½¿ç”¨ `--ref=start-task` è‡ªå®šç¾©å¼•ç”¨ï¼Œä¸æœƒå½±éŸ¿ commit history
- ä½¿ç”¨ `git notes --ref=start-task add -f` å¯ä»¥å¼·åˆ¶æ›´æ–°ç¾æœ‰ notes
- ç¢ºä¿åœ¨å»ºç«‹ MR å‰ï¼ŒGit notes ä¸­çš„è¨ˆåŠƒæ˜¯æœ€çµ‚ç¢ºèªçš„ç‰ˆæœ¬

---

## é–‹ç™¼å®Œæˆå¾Œçš„å ±å‘Šç”Ÿæˆ

**CRITICAL**: é–‹ç™¼å®Œæˆå¾Œï¼Œå¿…é ˆç”Ÿæˆé–‹ç™¼å ±å‘Šã€‚å ±å‘Šå…§å®¹é™¤äº†åŸå§‹çš„é–‹ç™¼è¨ˆç•«å¤–ï¼Œå¿…é ˆæ ¹æ“š Jira card çš„é¡å‹åŒ…å«é¡å¤–è³‡è¨Šã€‚

### å ±å‘ŠåŸºç¤çµæ§‹

æ‰€æœ‰é¡å‹çš„é–‹ç™¼å ±å‘Šéƒ½å¿…é ˆåŒ…å«ï¼š

1. **åŸºæœ¬ä¿¡æ¯**
   - Jira Ticket ç·¨è™Ÿå’Œæ¨™é¡Œ
   - é–‹ç™¼åˆ†æ”¯åç¨±
   - é–‹ç™¼è¨ˆåŠƒæ‘˜è¦

2. **è®Šæ›´æ‘˜è¦**
   - æ–°å¢çš„æª”æ¡ˆåˆ—è¡¨
   - ä¿®æ”¹çš„æª”æ¡ˆåˆ—è¡¨
   - åˆªé™¤çš„æª”æ¡ˆåˆ—è¡¨

3. **é–‹ç™¼æ­¥é©Ÿå®Œæˆç‹€æ…‹**
   - åˆ—å‡ºæ‰€æœ‰é–‹ç™¼æ­¥é©Ÿ
   - æ¨™è¨˜æ¯å€‹æ­¥é©Ÿçš„å®Œæˆç‹€æ…‹

### Bug é¡å‹å ±å‘Šè¦æ±‚

ç•¶ Jira card é¡å‹ç‚º **Bug** æ™‚ï¼Œå ±å‘Šå¿…é ˆåŒ…å«ä»¥ä¸‹é¡å¤–è³‡è¨Šï¼š

#### 1. å½±éŸ¿ç¯„åœï¼ˆAffect Rangeï¼‰

**å¿…é ˆèªªæ˜**ï¼š
- å—å½±éŸ¿çš„åŠŸèƒ½æ¨¡çµ„
- å—å½±éŸ¿çš„é é¢æˆ–çµ„ä»¶
- å—å½±éŸ¿çš„ç”¨æˆ¶ç¾¤é«”æˆ–ä½¿ç”¨å ´æ™¯
- æ˜¯å¦å½±éŸ¿å…¶ä»–ç›¸é—œåŠŸèƒ½

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### å½±éŸ¿ç¯„åœï¼ˆAffect Rangeï¼‰

- **å—å½±éŸ¿æ¨¡çµ„**: ç”¨æˆ¶ç®¡ç†æ¨¡çµ„ > ç”¨æˆ¶è³‡æ–™é é¢
- **å—å½±éŸ¿çµ„ä»¶**: `UserProfile`, `UserAvatar`
- **å—å½±éŸ¿å ´æ™¯**: ç”¨æˆ¶åœ¨ç·¨è¼¯å€‹äººè³‡æ–™æ™‚ï¼Œé ­åƒä¸Šå‚³åŠŸèƒ½ç•°å¸¸
- **é—œè¯å½±éŸ¿**: ç„¡å…¶ä»–é—œè¯åŠŸèƒ½å—å½±éŸ¿
```

#### 2. æ ¹æœ¬åŸå› ï¼ˆRoot Causeï¼‰

**å¿…é ˆèªªæ˜**ï¼š
- å•é¡Œç™¼ç”Ÿçš„æŠ€è¡“åŸå› 
- å°è‡´å•é¡Œçš„ä»£ç¢¼é‚è¼¯
- ç‚ºä»€éº¼ä¹‹å‰æ²’æœ‰ç™¼ç¾æ­¤å•é¡Œ

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### æ ¹æœ¬åŸå› ï¼ˆRoot Causeï¼‰

æ­¤ Bug çš„æ ¹æœ¬åŸå› æ˜¯åœ¨ `uploadAvatar` å‡½æ•¸ä¸­ï¼Œæœªæ­£ç¢ºè™•ç†åœ–ç‰‡æ ¼å¼é©—è­‰ï¼š
- åŸä»£ç¢¼åƒ…æª¢æŸ¥äº† `image/*` MIME typeï¼Œä½†æœªé©—è­‰å¯¦éš›æª”æ¡ˆå…§å®¹
- ç•¶ç”¨æˆ¶ä¸Šå‚³è¢«å½è£çš„éåœ–ç‰‡æª”æ¡ˆæ™‚ï¼Œå¾Œç«¯è™•ç†å¤±æ•—ä½†å‰ç«¯æœªé¡¯ç¤ºéŒ¯èª¤
- æ­¤å•é¡Œåœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­æœªè¢«ç™¼ç¾ï¼Œå› ç‚ºæ¸¬è©¦ç”¨ä¾‹æœªè¦†è“‹æ­¤é‚Šç•Œæƒ…æ³
```

#### 3. é€ æˆå•é¡Œçš„å–®è™Ÿ

**å¿…é ˆèªªæ˜**ï¼š
- å°è‡´æ­¤ Bug çš„åŸå§‹ commit æˆ– MR
- ç›¸é—œçš„ Jira ticketï¼ˆå¦‚æœæœ‰ï¼‰
- å¼•å…¥å•é¡Œçš„ç‰ˆæœ¬è™Ÿ

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### é€ æˆå•é¡Œçš„å–®è™Ÿ

- **å¼•å…¥å•é¡Œçš„ MR**: [MR !2845](https://gitlab.service-hub.tech/frontend/fluid-two/-/merge_requests/2845)
- **ç›¸é—œ Jira Ticket**: [FE-7234](https://innotech.atlassian.net/browse/FE-7234)
- **å¼•å…¥ç‰ˆæœ¬**: v5.34.0
- **èªªæ˜**: è©² MR åœ¨é‡æ§‹åœ–ç‰‡ä¸Šå‚³é‚è¼¯æ™‚ï¼Œèª¤åˆªäº†æ ¼å¼é©—è­‰çš„ä»£ç¢¼
```

#### 4. æ”¹å‹•å‰å¾Œé‚è¼¯å·®ç•°

**å¿…é ˆèªªæ˜**ï¼š
- ä¿®æ”¹å‰çš„ä»£ç¢¼é‚è¼¯ï¼ˆç°¡è¦æè¿°ï¼‰
- ä¿®æ”¹å¾Œçš„ä»£ç¢¼é‚è¼¯ï¼ˆç°¡è¦æè¿°ï¼‰
- é—œéµå·®ç•°é»
- ç‚ºä»€éº¼é€™å€‹ä¿®æ”¹èƒ½è§£æ±ºå•é¡Œ

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### æ”¹å‹•å‰å¾Œé‚è¼¯å·®ç•°

#### ä¿®æ”¹å‰é‚è¼¯
- `uploadAvatar` å‡½æ•¸ç›´æ¥å°‡æª”æ¡ˆå‚³é€åˆ°å¾Œç«¯ï¼Œç„¡å‰ç«¯é©—è­‰
- éŒ¯èª¤è™•ç†åƒ…æ•ç²ç¶²è·¯éŒ¯èª¤ï¼Œå¿½ç•¥å¾Œç«¯è¿”å›çš„æ ¼å¼éŒ¯èª¤

#### ä¿®æ”¹å¾Œé‚è¼¯
- æ–°å¢ `validateImageFile` å‡½æ•¸ï¼Œåœ¨ä¸Šå‚³å‰é©—è­‰æª”æ¡ˆæ ¼å¼å’Œå¤§å°
- å¢å¼·éŒ¯èª¤è™•ç†ï¼Œæ•ç²ä¸¦é¡¯ç¤ºå¾Œç«¯è¿”å›çš„æ‰€æœ‰éŒ¯èª¤é¡å‹
- æ·»åŠ ç”¨æˆ¶å‹å¥½çš„éŒ¯èª¤æç¤ºè¨Šæ¯

#### é—œéµå·®ç•°
| é …ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å¾Œ |
|-----|------|------|
| å‰ç«¯é©—è­‰ | ç„¡ | æª¢æŸ¥ MIME type å’Œæª”æ¡ˆé ­ |
| éŒ¯èª¤è™•ç† | åƒ…ç¶²è·¯éŒ¯èª¤ | æ‰€æœ‰éŒ¯èª¤é¡å‹ |
| ç”¨æˆ¶æç¤º | ç„¡ | æ˜ç¢ºçš„éŒ¯èª¤è¨Šæ¯ |

#### è§£æ±ºåŸå› 
æ­¤ä¿®æ”¹é€šéåœ¨å‰ç«¯æ·»åŠ é©—è­‰å±¤ï¼Œé˜²æ­¢ç„¡æ•ˆæª”æ¡ˆè¢«ä¸Šå‚³ï¼Œä¸¦æä¾›æ¸…æ™°çš„éŒ¯èª¤åé¥‹çµ¦ç”¨æˆ¶ã€‚
```

### Request é¡å‹å ±å‘Šè¦æ±‚

ç•¶ Jira card é¡å‹ç‚º **Story**ã€**Task**ã€**Feature** æˆ–å…¶ä»–éœ€æ±‚é¡å‹æ™‚ï¼Œå ±å‘Šå¿…é ˆåŒ…å«ä»¥ä¸‹é¡å¤–è³‡è¨Šï¼š

#### 1. é æœŸæ•ˆæœ

**å¿…é ˆèªªæ˜**ï¼š
- åŠŸèƒ½å¯¦ç¾å¾Œçš„é æœŸè¡Œç‚º
- ç”¨æˆ¶é«”é©—çš„æ”¹è®Š
- èˆ‡éœ€æ±‚æ–‡ä»¶çš„å°æ‡‰é—œä¿‚

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### é æœŸæ•ˆæœ

#### åŠŸèƒ½è¡Œç‚º
- ç”¨æˆ¶å¯ä»¥åœ¨è¨­å®šé é¢åˆ‡æ›æ·±è‰²/æ·ºè‰²ä¸»é¡Œ
- ä¸»é¡Œé¸æ“‡æœƒå³æ™‚ç”Ÿæ•ˆï¼Œç„¡éœ€é‡æ–°è¼‰å…¥é é¢
- ç”¨æˆ¶çš„ä¸»é¡Œåå¥½æœƒè¢«ä¿å­˜åˆ° localStorage

#### ç”¨æˆ¶é«”é©—æ”¹è®Š
- æ–°å¢ä¸»é¡Œåˆ‡æ›é–‹é—œï¼Œä½æ–¼è¨­å®šé é¢å³ä¸Šè§’
- åˆ‡æ›æ™‚æœ‰å¹³æ»‘çš„éæ¸¡å‹•ç•«æ•ˆæœ
- æ”¯æ´ç³»çµ±ä¸»é¡Œåå¥½è‡ªå‹•åµæ¸¬

#### éœ€æ±‚å°æ‡‰
- âœ… éœ€æ±‚ 1.1: æä¾›ä¸»é¡Œåˆ‡æ›åŠŸèƒ½ â†’ å·²å¯¦ç¾
- âœ… éœ€æ±‚ 1.2: ä¿å­˜ç”¨æˆ¶åå¥½ â†’ å·²å¯¦ç¾
- âœ… éœ€æ±‚ 1.3: æ”¯æ´ç³»çµ±åå¥½ â†’ å·²å¯¦ç¾
```

#### 2. éœ€æ±‚è¦†è“‹ç‡

**å¿…é ˆèªªæ˜**ï¼š
- éœ€æ±‚æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¦æ±‚
- æ¯å€‹è¦æ±‚çš„å¯¦ç¾ç‹€æ…‹
- æœªå¯¦ç¾é …ç›®çš„åŸå› ï¼ˆå¦‚æœ‰ï¼‰

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### éœ€æ±‚è¦†è“‹ç‡

| éœ€æ±‚é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|--------|-----|-----|
| ä¸»é¡Œåˆ‡æ›é–‹é—œ | âœ… å·²å¯¦ç¾ | ä½æ–¼è¨­å®šé é¢ |
| å³æ™‚ç”Ÿæ•ˆ | âœ… å·²å¯¦ç¾ | ä½¿ç”¨ CSS è®Šæ•¸å¯¦ç¾ |
| æŒä¹…åŒ–å­˜å„² | âœ… å·²å¯¦ç¾ | localStorage |
| ç³»çµ±åå¥½åµæ¸¬ | âœ… å·²å¯¦ç¾ | prefers-color-scheme |
| å‹•ç•«æ•ˆæœ | âœ… å·²å¯¦ç¾ | 300ms éæ¸¡ |
| å¤šä¸»é¡Œæ”¯æ´ | â¸ï¸ å»¶å¾Œ | æ­¤ç‰ˆæœ¬åƒ…æ”¯æ´æ·±æ·ºå…©ç¨®ï¼Œå¤šä¸»é¡Œå°‡åœ¨ä¸‹ä¸€ç‰ˆæœ¬å¯¦ç¾ |

**è¦†è“‹ç‡**: 5/6 (83.3%)

**èªªæ˜**: å¤šä¸»é¡Œæ”¯æ´å› è¨­è¨ˆç¨¿å°šæœªç¢ºå®šï¼Œæš«æ™‚å»¶å¾Œè‡³ä¸‹ä¸€ç‰ˆæœ¬ã€‚
```

#### 3. æ½›åœ¨å½±éŸ¿é¢¨éšªå ±å‘Š

**å¿…é ˆèªªæ˜**ï¼š
- å°ç¾æœ‰åŠŸèƒ½çš„å½±éŸ¿
- å¯èƒ½çš„å‰¯ä½œç”¨
- éœ€è¦æ³¨æ„çš„é‚Šç•Œæƒ…æ³
- å»ºè­°çš„æ¸¬è©¦é‡é»

**æ ¼å¼ç¯„ä¾‹**ï¼š
```
### æ½›åœ¨å½±éŸ¿é¢¨éšªå ±å‘Š

#### å°ç¾æœ‰åŠŸèƒ½çš„å½±éŸ¿

| åŠŸèƒ½ | å½±éŸ¿ç¨‹åº¦ | èªªæ˜ |
|-----|--------|-----|
| æ•´é«”æ¨£å¼ | ğŸŸ¡ ä¸­åº¦ | æ‰€æœ‰ä½¿ç”¨ CSS è®Šæ•¸çš„çµ„ä»¶æœƒå—ä¸»é¡Œå½±éŸ¿ |
| åœ–è¡¨é¡è‰² | ğŸŸ¢ ä½åº¦ | åœ–è¡¨çµ„ä»¶å·²é©é…ä¸»é¡Œè®Šæ•¸ |
| ç¬¬ä¸‰æ–¹çµ„ä»¶ | ğŸŸ¡ ä¸­åº¦ | éƒ¨åˆ†ç¬¬ä¸‰æ–¹çµ„ä»¶å¯èƒ½éœ€è¦é¡å¤–é©é… |

#### å¯èƒ½çš„å‰¯ä½œç”¨

1. **æ¨£å¼ä¸ä¸€è‡´é¢¨éšª**
   - æŸäº›ç¡¬ç·¨ç¢¼é¡è‰²çš„çµ„ä»¶å¯èƒ½åœ¨æ·±è‰²ä¸»é¡Œä¸‹é¡¯ç¤ºç•°å¸¸
   - å»ºè­°: å…¨é¢æª¢æŸ¥æ‰€æœ‰é é¢åœ¨æ·±è‰²ä¸»é¡Œä¸‹çš„é¡¯ç¤ºæ•ˆæœ

2. **æ€§èƒ½å½±éŸ¿**
   - ä¸»é¡Œåˆ‡æ›æœƒè§¸ç™¼å¤§é‡ CSS é‡æ–°è¨ˆç®—
   - å½±éŸ¿: åœ¨ä½ç«¯è¨­å‚™ä¸Šå¯èƒ½æœ‰çŸ­æš«å¡é “
   - å»ºè­°: å·²æ·»åŠ  will-change å„ªåŒ–ï¼Œå½±éŸ¿å¯å¿½ç•¥

3. **localStorage è¡çª**
   - ä½¿ç”¨ `theme-preference` ä½œç‚ºå­˜å„² key
   - é¢¨éšª: å¦‚æœå…¶ä»–åŠŸèƒ½ä½¿ç”¨ç›¸åŒ key æœƒé€ æˆè¡çª
   - å»ºè­°: å·²ç¢ºèªç„¡è¡çª

#### é‚Šç•Œæƒ…æ³

- ç”¨æˆ¶åœ¨ A æ¨™ç±¤é åˆ‡æ›ä¸»é¡Œï¼ŒB æ¨™ç±¤é ä¸æœƒå³æ™‚åŒæ­¥ï¼ˆéœ€é‡æ–°è¼‰å…¥ï¼‰
- è‹¥ localStorage è¢«ç¦ç”¨ï¼Œä¸»é¡Œé¸æ“‡ä¸æœƒè¢«ä¿å­˜
- ç³»çµ±ä¸»é¡Œè®Šæ›´æ™‚ï¼Œå·²æ‰‹å‹•è¨­å®šçš„åå¥½æœƒè¢«ä¿ç•™

#### å»ºè­°æ¸¬è©¦é‡é»

1. æ‰€æœ‰é é¢åœ¨æ·±è‰²ä¸»é¡Œä¸‹çš„æ¨£å¼æª¢æŸ¥
2. ä¸»é¡Œåˆ‡æ›çš„æ€§èƒ½è¡¨ç¾
3. è·¨æ¨™ç±¤é çš„ä¸»é¡ŒåŒæ­¥è¡Œç‚º
4. localStorage ç¦ç”¨æƒ…æ³ä¸‹çš„é™ç´šè™•ç†
```

---

## å®Œæˆä¿®æ”¹å¾Œçš„ç¢ºèªèˆ‡è‡ªå‹•æäº¤æµç¨‹

**CRITICAL**: ç•¶ AI ä½¿ç”¨ `start-task` å®Œæˆä»£ç¢¼ä¿®æ”¹å¾Œï¼Œå¿…é ˆåœ¨ chat ä¸­èˆ‡ç”¨æˆ¶ç¢ºèªä¿®æ”¹è¨ˆç•«å’Œé–‹ç™¼å ±å‘Šï¼Œç¢ºèªç„¡èª¤å¾Œæ‰èƒ½åŸ·è¡Œ `cr single-ticket` å‘½ä»¤æäº¤ MRã€‚

### æµç¨‹æ­¥é©Ÿ

1. **è®€å–é–‹ç™¼è¨ˆåŠƒ**ï¼š
   - ä½¿ç”¨ `git notes --ref=start-task show HEAD` è®€å–æœ€æ–°çš„é–‹ç™¼è¨ˆåŠƒ
   - è§£æ JSON æ ¼å¼çš„ `startTaskInfo` å°è±¡

2. **ç”Ÿæˆé–‹ç™¼å ±å‘Š**ï¼š
   - æ ¹æ“š Jira card é¡å‹ç”Ÿæˆå°æ‡‰çš„å ±å‘Šå…§å®¹
   - Bug é¡å‹: åŒ…å«å½±éŸ¿ç¯„åœã€æ ¹æœ¬åŸå› ã€é€ æˆå•é¡Œå–®è™Ÿã€æ”¹å‹•å‰å¾Œé‚è¼¯å·®ç•°
   - Request é¡å‹: åŒ…å«é æœŸæ•ˆæœã€éœ€æ±‚è¦†è“‹ç‡ã€æ½›åœ¨å½±éŸ¿é¢¨éšª

3. **é¡¯ç¤ºå®Œæ•´å ±å‘Š**ï¼š
   - åœ¨ chat ä¸­é¡¯ç¤ºç•¶å‰ä»»å‹™ä¿¡æ¯ï¼ˆåˆ†æ”¯ã€ticketã€æ¨™é¡Œï¼‰
   - é¡¯ç¤ºå·²å®Œæˆçš„é–‹ç™¼æ­¥é©Ÿ
   - é¡¯ç¤ºæœ¬æ¬¡ä¿®æ”¹çš„æ‘˜è¦
   - é¡¯ç¤ºæ ¹æ“š Jira card é¡å‹ç”Ÿæˆçš„é¡å¤–å ±å‘Šå…§å®¹

4. **ç­‰å¾…ç”¨æˆ¶ç¢ºèª**ï¼š
   - **CRITICAL**: å¿…é ˆæ˜ç¢ºè©¢å•ç”¨æˆ¶ç¢ºèªå ±å‘Šå…§å®¹
   - ç­‰å¾…ç”¨æˆ¶å›æ‡‰ã€Œæ˜¯ã€ã€ã€Œç¢ºèªã€ã€ã€Œå¯ä»¥ã€ç­‰è‚¯å®šå›ç­”
   - **ç¦æ­¢**åœ¨ç”¨æˆ¶ç¢ºèªå‰åŸ·è¡Œ commit æˆ– MR æ“ä½œ

5. **åŸ·è¡Œ cr single-ticket å‘½ä»¤**ï¼š
   - åªæœ‰åœ¨ç”¨æˆ¶æ˜ç¢ºç¢ºèªå¾Œï¼Œæ‰åŸ·è¡Œ `cr single-ticket` å‘½ä»¤
   - å°‡ç”¨æˆ¶ç¢ºèªçš„å ±å‘Šå…§å®¹æª¢é™„åˆ° MR description

### é¡¯ç¤ºæ ¼å¼ç¯„ä¾‹

#### Bug é¡å‹å ±å‘Š

```
âœ… é–‹ç™¼å®Œæˆï¼ä»¥ä¸‹æ˜¯é–‹ç™¼å ±å‘Šï¼Œè«‹ç¢ºèªï¼š

ğŸ“‹ ç•¶å‰ä»»å‹™ä¿¡æ¯
============================================================
åˆ†æ”¯: feature/FE-7846
Ticket: [FE-7846](https://innotech.atlassian.net/browse/FE-7846)
æ¨™é¡Œ: ä¿®å¾©ç”¨æˆ¶é ­åƒä¸Šå‚³å¤±æ•—å•é¡Œ
é¡å‹: Bug

âœ… å·²å®Œæˆçš„é–‹ç™¼æ­¥é©Ÿï¼š
- 1. åˆ†æå•é¡ŒåŸå›  âœ“
- 2. å®šä½å•é¡Œä»£ç¢¼ âœ“
- 3. å¯¦ç¾ä¿®å¾©æ–¹æ¡ˆ âœ“
- 4. é©—è­‰ä¿®å¾©æ•ˆæœ âœ“

ğŸ“ è®Šæ›´æ‘˜è¦ï¼š
- ä¿®æ”¹æª”æ¡ˆ: src/modules/user/utils/uploadAvatar.ts
- æ–°å¢æª”æ¡ˆ: src/modules/user/utils/validateImageFile.ts
- ä¸»è¦æ”¹å‹•: æ·»åŠ åœ–ç‰‡æ ¼å¼é©—è­‰é‚è¼¯

============================================================
ğŸ“Š Bug ä¿®å¾©å ±å‘Š
============================================================

### å½±éŸ¿ç¯„åœï¼ˆAffect Rangeï¼‰
- **å—å½±éŸ¿æ¨¡çµ„**: ç”¨æˆ¶ç®¡ç†æ¨¡çµ„ > ç”¨æˆ¶è³‡æ–™é é¢
- **å—å½±éŸ¿çµ„ä»¶**: `UserProfile`, `UserAvatar`
- **å—å½±éŸ¿å ´æ™¯**: ç”¨æˆ¶åœ¨ç·¨è¼¯å€‹äººè³‡æ–™æ™‚ï¼Œé ­åƒä¸Šå‚³åŠŸèƒ½ç•°å¸¸

### æ ¹æœ¬åŸå› ï¼ˆRoot Causeï¼‰
æ­¤ Bug çš„æ ¹æœ¬åŸå› æ˜¯åœ¨ `uploadAvatar` å‡½æ•¸ä¸­ï¼Œæœªæ­£ç¢ºè™•ç†åœ–ç‰‡æ ¼å¼é©—è­‰...

### é€ æˆå•é¡Œçš„å–®è™Ÿ
- **å¼•å…¥å•é¡Œçš„ MR**: [MR !2845](URL)
- **ç›¸é—œ Jira Ticket**: [FE-7234](URL)
- **å¼•å…¥ç‰ˆæœ¬**: v5.34.0

### æ”¹å‹•å‰å¾Œé‚è¼¯å·®ç•°
| é …ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å¾Œ |
|-----|------|------|
| å‰ç«¯é©—è­‰ | ç„¡ | æª¢æŸ¥ MIME type å’Œæª”æ¡ˆé ­ |
| éŒ¯èª¤è™•ç† | åƒ…ç¶²è·¯éŒ¯èª¤ | æ‰€æœ‰éŒ¯èª¤é¡å‹ |

============================================================

â“ ä»¥ä¸Šé–‹ç™¼å ±å‘Šæ˜¯å¦æ­£ç¢ºç„¡èª¤ï¼Ÿç¢ºèªå¾Œæˆ‘å°‡åŸ·è¡Œ `cr single-ticket` å‘½ä»¤æäº¤ MRï¼Œä¸¦å°‡æ­¤å ±å‘Šæª¢é™„åˆ° MR ä¸­ã€‚
```

#### Request é¡å‹å ±å‘Š

```
âœ… é–‹ç™¼å®Œæˆï¼ä»¥ä¸‹æ˜¯é–‹ç™¼å ±å‘Šï¼Œè«‹ç¢ºèªï¼š

ğŸ“‹ ç•¶å‰ä»»å‹™ä¿¡æ¯
============================================================
åˆ†æ”¯: feature/FE-7850
Ticket: [FE-7850](https://innotech.atlassian.net/browse/FE-7850)
æ¨™é¡Œ: æ–°å¢æ·±è‰²ä¸»é¡Œåˆ‡æ›åŠŸèƒ½
é¡å‹: Story

âœ… å·²å®Œæˆçš„é–‹ç™¼æ­¥é©Ÿï¼š
- 1. åˆ†æéœ€æ±‚ä¸¦ç¢ºèªæŠ€è¡“æ–¹æ¡ˆ âœ“
- 2. å‰µå»ºä¸»é¡Œåˆ‡æ›çµ„ä»¶ âœ“
- 3. å¯¦ç¾ CSS è®Šæ•¸ç³»çµ± âœ“
- 4. æ·»åŠ æŒä¹…åŒ–å­˜å„² âœ“

ğŸ“ è®Šæ›´æ‘˜è¦ï¼š
- æ–°å¢æª”æ¡ˆ: src/components/ThemeSwitch/index.tsx
- ä¿®æ”¹æª”æ¡ˆ: src/styles/variables.css
- ä¿®æ”¹æª”æ¡ˆ: src/context/ThemeProvider.tsx

============================================================
ğŸ“Š éœ€æ±‚å¯¦ç¾å ±å‘Š
============================================================

### é æœŸæ•ˆæœ
- ç”¨æˆ¶å¯ä»¥åœ¨è¨­å®šé é¢åˆ‡æ›æ·±è‰²/æ·ºè‰²ä¸»é¡Œ
- ä¸»é¡Œé¸æ“‡æœƒå³æ™‚ç”Ÿæ•ˆï¼Œç„¡éœ€é‡æ–°è¼‰å…¥é é¢
- ç”¨æˆ¶çš„ä¸»é¡Œåå¥½æœƒè¢«ä¿å­˜åˆ° localStorage

### éœ€æ±‚è¦†è“‹ç‡
| éœ€æ±‚é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|--------|-----|-----|
| ä¸»é¡Œåˆ‡æ›é–‹é—œ | âœ… å·²å¯¦ç¾ | ä½æ–¼è¨­å®šé é¢ |
| å³æ™‚ç”Ÿæ•ˆ | âœ… å·²å¯¦ç¾ | ä½¿ç”¨ CSS è®Šæ•¸å¯¦ç¾ |
| æŒä¹…åŒ–å­˜å„² | âœ… å·²å¯¦ç¾ | localStorage |

**è¦†è“‹ç‡**: 3/3 (100%)

### æ½›åœ¨å½±éŸ¿é¢¨éšªå ±å‘Š

#### å°ç¾æœ‰åŠŸèƒ½çš„å½±éŸ¿
| åŠŸèƒ½ | å½±éŸ¿ç¨‹åº¦ | èªªæ˜ |
|-----|--------|-----|
| æ•´é«”æ¨£å¼ | ğŸŸ¡ ä¸­åº¦ | æ‰€æœ‰ä½¿ç”¨ CSS è®Šæ•¸çš„çµ„ä»¶æœƒå—ä¸»é¡Œå½±éŸ¿ |

#### å»ºè­°æ¸¬è©¦é‡é»
1. æ‰€æœ‰é é¢åœ¨æ·±è‰²ä¸»é¡Œä¸‹çš„æ¨£å¼æª¢æŸ¥
2. ä¸»é¡Œåˆ‡æ›çš„æ€§èƒ½è¡¨ç¾

============================================================

â“ ä»¥ä¸Šé–‹ç™¼å ±å‘Šæ˜¯å¦æ­£ç¢ºç„¡èª¤ï¼Ÿç¢ºèªå¾Œæˆ‘å°‡åŸ·è¡Œ `cr single-ticket` å‘½ä»¤æäº¤ MRï¼Œä¸¦å°‡æ­¤å ±å‘Šæª¢é™„åˆ° MR ä¸­ã€‚
```

---

## MR å ±å‘Šæª¢é™„è¦å‰‡

**CRITICAL**: ç•¶ç”¨æˆ¶ç¢ºèªé–‹ç™¼å ±å‘Šå¾Œï¼Œå¿…é ˆå°‡å ±å‘Šå…§å®¹æª¢é™„åˆ° MR description ä¸­ã€‚

### æª¢é™„æ ¼å¼

å ±å‘Šæ‡‰è©²ä»¥ Markdown æ ¼å¼æ·»åŠ åˆ° MR descriptionï¼Œçµæ§‹å¦‚ä¸‹ï¼š

```markdown
## ğŸ¯ é–‹ç™¼è¨ˆåŠƒ

æœ¬ MR ç”± `start-task` å‘½ä»¤å•Ÿå‹•ï¼Œä»¥ä¸‹æ˜¯é–‹ç™¼è¨ˆåŠƒï¼š

- [æ­¥é©Ÿ 1]
- [æ­¥é©Ÿ 2]
...

## ğŸ“‹ é—œè¯å–®è³‡è¨Š

| é …ç›® | å€¼ |
|---|---|
| **å–®è™Ÿ** | [TICKET](URL) |
| **æ¨™é¡Œ** | [SUMMARY] |
| **é¡å‹** | [ISSUE_TYPE] |

---

## ğŸ“Š é–‹ç™¼å ±å‘Š

[æ ¹æ“š Jira card é¡å‹çš„å ±å‘Šå…§å®¹]
```

**èªªæ˜**ï¼š
- é–‹ç™¼è¨ˆåŠƒèˆ‡é—œè¯å–®è³‡è¨Šç‚ºç¨ç«‹å€å¡Š
- é—œè¯å–®è³‡è¨Šåƒ…åŒ…å«å–®è™Ÿï¼ˆå«è¶…é€£çµï¼‰ã€æ¨™é¡Œã€é¡å‹ä¸‰é …
- é–‹ç™¼å ±å‘Šç‚ºå¯é¸å€å¡Šï¼Œæ ¹æ“š Jira card é¡å‹ç”Ÿæˆ

### å¯¦æ–½ä½ç½®

é–‹ç™¼å ±å‘Šçš„æ›´æ–°å’Œæª¢é™„ç”± `.cursor/scripts/operator/update-development-report.mjs` è…³æœ¬è™•ç†ï¼š

**è…³æœ¬åŠŸèƒ½**ï¼š
- è®€å–å’Œæ›´æ–° Git notes ä¸­çš„ `startTaskInfo`
- å°‡é–‹ç™¼å ±å‘Šä¿å­˜åˆ° `developmentReport` æ¬„ä½
- ç”Ÿæˆæ ¼å¼åŒ–çš„ MR descriptionï¼ˆä½¿ç”¨è¡¨æ ¼æ ¼å¼ï¼Œé¿å…æ›è¡Œå•é¡Œï¼‰

**ä½¿ç”¨æ–¹å¼**ï¼š

```bash
# æ›´æ–°é–‹ç™¼å ±å‘Šï¼ˆç›´æ¥æä¾›å…§å®¹ï¼‰
node .cursor/scripts/operator/update-development-report.mjs --report="<report-content>"

# å¾æª”æ¡ˆè®€å–å ±å‘Šå…§å®¹
node .cursor/scripts/operator/update-development-report.mjs --report-file="<path-to-report-file>"

# è®€å–ç•¶å‰çš„ startTaskInfoï¼ˆJSON æ ¼å¼ï¼‰
node .cursor/scripts/operator/update-development-report.mjs --read

# è¼¸å‡ºæ ¼å¼åŒ–çš„ MR descriptionï¼ˆMarkdown æ ¼å¼ï¼‰
node .cursor/scripts/operator/update-development-report.mjs --format
```

**AI æµç¨‹ä¸­çš„ä½¿ç”¨**ï¼š

1. AI ç”Ÿæˆé–‹ç™¼å ±å‘Šå¾Œï¼Œä½¿ç”¨ `--report` åƒæ•¸å°‡å ±å‘Šå…§å®¹ä¿å­˜åˆ° Git notes
2. åŸ·è¡Œ `cr single-ticket` æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ `--format` ç²å–æ ¼å¼åŒ–çš„ MR description
3. å°‡æ ¼å¼åŒ–çš„ description å‚³éçµ¦ MR å»ºç«‹æµç¨‹

---

## å¯¦æ–½æª¢æŸ¥æ¸…å–®

åœ¨ `start-task.mjs` ä¸­ï¼š
- [x] ä¿å­˜é–‹ç™¼è¨ˆåŠƒæ™‚ï¼ŒåŒ…å«å®Œæ•´æ¬„ä½ï¼ˆticket, summary, issueType, status, assignee, priority, suggestedSteps, startedAt, developmentReportï¼‰
- [ ] æ¨™è¨˜æ˜¯å¦ç‚º AI ç¨ç«‹å®Œæˆï¼ˆ`aiCompleted: true`ï¼‰

åœ¨ `agent-commit.mjs` ä¸­ï¼š
- [x] åœ¨ commit ä¹‹å¾Œï¼Œæª¢æŸ¥ä¸¦è¤‡è£½ start-task Git notes åˆ°æ–° commit
- [x] å¦‚æœçˆ¶ commit æˆ– base commit æœ‰ Git notesï¼Œè‡ªå‹•è¤‡è£½åˆ°ç•¶å‰ commit

åœ¨ `create-mr.mjs` ä¸­ï¼š
- [x] æª¢æŸ¥ `startTaskInfo` ä¸¦è‡ªå‹•æ·»åŠ  `AI` label
- [x] æª¢æŸ¥ `startTaskInfo` ä¸¦æ·»åŠ é–‹ç™¼æ–¹æ¡ˆåˆ° MR description
- [x] `readStartTaskInfo()` å‡½æ•¸å¯å¾çˆ¶ commit æˆ– base commit è®€å–

åœ¨ `update-development-report.mjs` ä¸­ï¼š
- [x] è®€å– Git notes ä¸­çš„ `startTaskInfo`
- [x] æ›´æ–° `developmentReport` æ¬„ä½
- [x] ç”Ÿæˆæ ¼å¼åŒ–çš„ MR descriptionï¼ˆè¡¨æ ¼æ ¼å¼ï¼‰

åœ¨ AI Chat æµç¨‹ä¸­ï¼š
- [ ] å®Œæˆä¿®æ”¹å¾Œï¼Œæ ¹æ“š Jira card é¡å‹ç”Ÿæˆé–‹ç™¼å ±å‘Š
- [ ] é¡¯ç¤ºé–‹ç™¼å ±å‘Šä¸¦è©¢å•ç”¨æˆ¶ç¢ºèª
- [ ] **å¿…é ˆç­‰å¾…ç”¨æˆ¶ç¢ºèªå¾Œ**ï¼Œä½¿ç”¨ `update-development-report.mjs` ä¿å­˜å ±å‘Š
- [ ] åŸ·è¡Œ `cr single-ticket` å‘½ä»¤å»ºç«‹ MR

---

## æ³¨æ„äº‹é …

1. **ç”¨æˆ¶ç¢ºèªå„ªå…ˆ**ï¼šCommit å’Œ MR æ“ä½œå¿…é ˆåœ¨ç”¨æˆ¶ç¢ºèªå ±å‘Šå¾Œæ‰èƒ½åŸ·è¡Œ
2. **å ±å‘Šé¡å‹å°æ‡‰**ï¼šå¿…é ˆæ ¹æ“š Jira card é¡å‹ç”Ÿæˆå°æ‡‰çš„å ±å‘Šå…§å®¹
3. **æœ€çµ‚ç‰ˆæœ¬åŸå‰‡**ï¼šé–‹ç™¼æ–¹æ¡ˆå’Œå ±å‘Šå¿…é ˆä»¥æœ€çµ‚ç¢ºèªçš„ç‰ˆæœ¬ç‚ºä¸»
4. **è‡ªå‹•åŒ–è™•ç†**ï¼šAI ç¨ç«‹å®Œæˆçš„é …ç›®åœ¨å»ºç«‹ MR æ™‚å¿…é ˆè‡ªå‹•æ·»åŠ  AI label å’Œå ±å‘Š
5. **å®Œæ•´æ€§è¦æ±‚**ï¼šBug å ±å‘Šå¿…é ˆåŒ…å«æ‰€æœ‰å››é …é¡å¤–è³‡è¨Šï¼ŒRequest å ±å‘Šå¿…é ˆåŒ…å«æ‰€æœ‰ä¸‰é …é¡å¤–è³‡è¨Š
6. **å½±éŸ¿åˆ†æ**ï¼šæ½›åœ¨å½±éŸ¿é¢¨éšªå ±å‘Šå¿…é ˆå®¢è§€è©•ä¼°ï¼Œä¸å¯éºæ¼é‡è¦é¢¨éšª
7. **æº¯æºè¦æ±‚**ï¼šBug å ±å‘Šä¸­çš„ã€Œé€ æˆå•é¡Œçš„å–®è™Ÿã€å¿…é ˆç›¡å¯èƒ½è¿½æº¯åˆ°å…·é«”çš„ commit æˆ– MR
